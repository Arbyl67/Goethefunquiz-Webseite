<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Goethe SpaÃŸseite</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(-45deg, #ffe4b5, #ffc0cb, #ffb347, #5a189a);
      background-size: 400% 400%;
      animation: bg 30s ease infinite;
      text-align: center;
      padding: 20px;
      margin: 0;
      overflow-x: hidden;
      min-height: 100vh;
    }
    @keyframes bg {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    h1 {
      color: #5a189a;
    }
    .section {
      background: rgba(255,255,255,0.9);
      margin: 20px auto;
      padding: 20px;
      max-width: 600px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .btn {
      background: #5a189a;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px;
      font-size: 1rem;
    }
    .btn:hover {
      background: #3c096c;
    }
    #goetheHead {
      width: 70px;
      position: absolute;
      cursor: pointer;
      transition: transform 0.3s ease;
      z-index: 999;
    }
    #wheelCanvas {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>ðŸ˜‚ Goethe Super Fun Zone ðŸ˜‚</h1>
  <div id="foundCount">Goethe-Kopf gefunden: 0 mal</div>
  <img id="goetheHead" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Johann_Wolfgang_von_Goethe_Stieler_1828.jpg/120px-Johann_Wolfgang_von_Goethe_Stieler_1828.jpg" />

  <!-- GlÃ¼cksrad -->
  <div class="section">
    <h2>ðŸŽ¡ Goethe GlÃ¼cksrad</h2>
    <canvas id="wheelCanvas" width="300" height="300"></canvas>
    <br />
    <button class="btn" onclick="spinWheel()">Drehen!</button>
    <div id="spinResult" style="font-weight:bold;margin-top:10px;"></div>
  </div>

  <!-- Minispiel -->
  <div class="section">
    <h2>Minispiel: Klick den Goethe-Kopf!</h2>
    <button class="btn" id="startGameBtn">Spiel starten</button>
    <p id="miniGameTimer">Zeit: 10</p>
    <p id="miniGameScore">Punkte: 0</p>
    <p id="miniGameResult"></p>
  </div>

  <!-- Quiz (vereinfachter Platzhalter) -->
  <div class="section">
    <h2>Goethe Quiz</h2>
    <p><em>Hier kÃ¶nnte dein Quiz laufen...</em></p>
  </div>

<script>
  // Goethe-Kopf Bewegung
  const goetheHead = document.getElementById("goetheHead");
  let foundCount = 0;
  function moveGoetheHead() {
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    goetheHead.style.left = `${x}px`;
    goetheHead.style.top = `${y}px`;
  }
  goetheHead.onclick = () => {
    if (miniGameRunning) {
      miniGameScore++;
      document.getElementById("miniGameScore").textContent = `Punkte: ${miniGameScore}`;
    } else {
      foundCount++;
      document.getElementById("foundCount").textContent = `Goethe-Kopf gefunden: ${foundCount} mal`;
    }
    moveGoetheHead();
    goetheHead.style.transform = "scale(1.3)";
    setTimeout(() => goetheHead.style.transform = "scale(1)", 300);
  };
  moveGoetheHead();
  window.addEventListener("resize", moveGoetheHead);

  // Minispiel
  let miniGameRunning = false;
  let miniGameScore = 0;
  document.getElementById("startGameBtn").onclick = () => {
    if (miniGameRunning) return;
    miniGameRunning = true;
    miniGameScore = 0;
    let timeLeft = 10;
    document.getElementById("miniGameResult").textContent = "";
    document.getElementById("miniGameTimer").textContent = `Zeit: ${timeLeft}`;
    document.getElementById("miniGameScore").textContent = `Punkte: ${miniGameScore}`;
    goetheHead.style.display = "block";
    const interval = setInterval(() => {
      timeLeft--;
      document.getElementById("miniGameTimer").textContent = `Zeit: ${timeLeft}`;
      if (timeLeft <= 0) {
        clearInterval(interval);
        miniGameRunning = false;
        document.getElementById("miniGameResult").textContent = `Spiel beendet! Du hast ${miniGameScore} Treffer erzielt.`;
      }
    }, 1000);
  };

  // GlÃ¼cksrad
  const canvas = document.getElementById("wheelCanvas");
  const ctx = canvas.getContext("2d");
  const segments = [
    "Goethe-GoldmÃ¼nze", "Faust-Maske", "Schiller-Slap", 
    "Weimar-Reise", "Gedichtband", "KaffeekrÃ¤nzchen", 
    "Nichts gewonnen", "Zitate-Bombe"
  ];
  let angle = 0;
  let spinning = false;

  function drawWheel() {
    const centerX = 150, centerY = 150;
    const radius = 140;
    const numSegments = segments.length;
    const arcSize = (2 * Math.PI) / numSegments;
    ctx.clearRect(0, 0, 300, 300);
    for (let i = 0; i < numSegments; i++) {
      ctx.beginPath();
      ctx.fillStyle = i % 2 === 0 ? "#ffb347" : "#ffc0cb";
      ctx.moveTo(centerX, centerY);
      ctx.arc(centerX, centerY, radius, arcSize * i + angle, arcSize * (i + 1) + angle);
      ctx.lineTo(centerX, centerY);
      ctx.fill();
      ctx.save();
      ctx.translate(centerX, centerY);
      ctx.rotate(arcSize * i + arcSize / 2 + angle);
      ctx.fillStyle = "#000";
      ctx.font = "12px sans-serif";
      ctx.fillText(segments[i], 70, 0);
      ctx.restore();
    }
    // Pfeil
    ctx.beginPath();
    ctx.moveTo(150, 10);
    ctx.lineTo(140, 30);
    ctx.lineTo(160, 30);
    ctx.closePath();
    ctx.fillStyle = "red";
    ctx.fill();
  }

  function spinWheel() {
    if (spinning) return;
    spinning = true;
    let spinAngle = Math.random() * 2000 + 3000;
    let duration = 4000;
    let start = null;
    function animate(timestamp) {
      if (!start) start = timestamp;
      let progress = timestamp - start;
      let eased = 1 - Math.pow(1 - progress / duration, 3); // easeOutCubic
      angle = (spinAngle * eased) / 180 * Math.PI;
      drawWheel();
      if (progress < duration) {
        requestAnimationFrame(animate);
      } else {
        spinning = false;
        let deg = (angle * 180 / Math.PI) % 360;
        let index = Math.floor(segments.length - (deg / 360 * segments.length)) % segments.length;
        document.getElementById("spinResult").textContent = `ðŸŽ Du hast erhalten: ${segments[index]}!`;
      }
    }
    requestAnimationFrame(animate);
  }

  drawWheel();
</script>
</body>
</html>
